<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Communication Assistant - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
    tailwind.config = {
        theme: {
            extend: {
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)",
                    sm: "calc(var(--radius) - 4px)",
                },
                colors: {
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                    popover: {
                        DEFAULT: "var(--popover)",
                        foreground: "var(--popover-foreground)",
                    },
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    destructive: {
                        DEFAULT: "var(--destructive)",
                        foreground: "var(--destructive-foreground)",
                    },
                    border: "var(--border)",
                    input: "var(--input)",
                    ring: "var(--ring)",
                    chart: {
                        "1": "var(--chart-1)",
                        "2": "var(--chart-2)",
                        "3": "var(--chart-3)",
                        "4": "var(--chart-4)",
                        "5": "var(--chart-5)",
                    }
                },
                fontFamily: {
                    sans: ["Inter", "var(--font-sans)"],
                }
            },
        }
    };
    </script>
    <style>
        :root {
            --radius: 8px;
            --background: hsl(210 40% 96%);
            --foreground: hsl(210 40% 8%);
            --card: hsl(0 0% 100%);
            --card-foreground: hsl(210 40% 8%);
            --popover: hsl(0 0% 100%);
            --popover-foreground: hsl(210 40% 8%);
            --primary: hsl(217 91% 60%);
            --primary-foreground: hsl(0 0% 100%);
            --secondary: hsl(210 40% 94%);
            --secondary-foreground: hsl(210 40% 8%);
            --muted: hsl(210 40% 96%);
            --muted-foreground: hsl(215 16% 47%);
            --accent: hsl(210 40% 94%);
            --accent-foreground: hsl(210 40% 8%);
            --destructive: hsl(0 84% 60%);
            --destructive-foreground: hsl(0 0% 100%);
            --border: hsl(214 32% 91%);
            --input: hsl(214 32% 91%);
            --ring: hsl(217 91% 60%);
            --chart-1: hsl(217 91% 60%);
            --chart-2: hsl(142 76% 36%);
            --chart-3: hsl(47 96% 53%);
            --chart-4: hsl(15 91% 60%);
            --chart-5: hsl(271 81% 56%);
        }

        .dark {
            --background: hsl(222 84% 5%);
            --foreground: hsl(210 40% 98%);
            --card: hsl(222 84% 5%);
            --card-foreground: hsl(210 40% 98%);
            --popover: hsl(222 84% 5%);
            --popover-foreground: hsl(210 40% 98%);
            --primary: hsl(217 91% 60%);
            --primary-foreground: hsl(222 84% 5%);
            --secondary: hsl(217 19% 12%);
            --secondary-foreground: hsl(210 40% 98%);
            --muted: hsl(217 19% 12%);
            --muted-foreground: hsl(215 20% 65%);
            --accent: hsl(217 19% 12%);
            --accent-foreground: hsl(210 40% 98%);
            --destructive: hsl(0 84% 60%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(217 19% 12%);
            --input: hsl(217 19% 12%);
            --ring: hsl(217 91% 60%);
        }

        body {
            font-family: 'Inter', sans-serif;
        }

        .priority-urgent {
            border-left: 4px solid hsl(0 84% 60%);
        }

        .priority-normal {
            border-left: 4px solid hsl(142 76% 36%);
        }

        .sentiment-positive {
            color: hsl(142 76% 36%);
        }

        .sentiment-negative {
            color: hsl(0 84% 60%);
        }

        .sentiment-neutral {
            color: hsl(47 96% 53%);
        }

        .email-item {
            transition: all 0.2s ease-in-out;
        }

        .email-item:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .stats-card {
            background: linear-gradient(135deg, var(--card) 0%, var(--secondary) 100%);
        }

        .chart-container {
            height: 300px;
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease-in-out;
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
        }
    </style>
</head>
<body class="bg-background text-foreground min-h-screen">
    <!-- @COMPONENT: Layout [Main application layout with sidebar and content] -->
    <div class="flex h-screen">
        <!-- Sidebar Navigation -->
        <!-- @COMPONENT: Sidebar [Navigation and menu items] -->
        <div class="sidebar w-64 bg-card border-r border-border flex flex-col">
            <div class="p-6 border-b border-border">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-robot text-primary-foreground text-sm"></i>
                    </div>
                    <div>
                        <h1 class="font-semibold text-lg">AI Assistant</h1>
                        <p class="text-xs text-muted-foreground">Communication Hub</p>
                    </div>
                </div>
            </div>
            
            <nav class="flex-1 p-4 space-y-2">
                <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-md bg-primary text-primary-foreground">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors">
                    <i class="fas fa-envelope"></i>
                    <span>Email Inbox</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors">
                    <i class="fas fa-chart-line"></i>
                    <span>Analytics</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors">
                    <i class="fas fa-database"></i>
                    <span>Knowledge Base</span>
                </a>
            </nav>
            
            <div class="p-4 border-t border-border">
                <div class="flex items-center space-x-3 px-3 py-2">
                    <div class="w-8 h-8 bg-secondary rounded-full flex items-center justify-center">
                        <span class="text-sm font-medium" data-bind="user.initials">JD</span>
                    </div>
                    <div class="flex-1 min-w-0">
                        <p class="text-sm font-medium truncate" data-bind="user.name">John Doe</p>
                        <p class="text-xs text-muted-foreground truncate" data-bind="user.email">john@company.com</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: Sidebar -->

        <!-- Main Content Area -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Top Header -->
            <!-- @COMPONENT: Header [Top navigation and controls] -->
            <header class="bg-card border-b border-border px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-semibold">Communication Dashboard</h2>
                        <p class="text-muted-foreground text-sm">AI-powered email management and response system</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors" data-event="click:syncEmails">
                            <i class="fas fa-sync-alt mr-2"></i>
                            Sync Emails
                        </button>
                        <button class="p-2 text-muted-foreground hover:text-foreground">
                            <i class="fas fa-bell"></i>
                        </button>
                    </div>
                </div>
            </header>
            <!-- @END_COMPONENT: Header -->

            <!-- Dashboard Content -->
            <main class="flex-1 overflow-auto">
                <!-- Analytics Section -->
                <!-- @COMPONENT: Analytics [Statistics and charts section] -->
                <section class="p-6 border-b border-border bg-muted/30">
                    <h3 class="text-lg font-semibold mb-4">Analytics & Overview</h3>
                    
                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
                        <div class="stats-card bg-card p-6 rounded-lg border border-border">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-muted-foreground text-sm">Total Emails (24h)</p>
                                    <p class="text-2xl font-bold" data-bind="stats.totalEmails">147</p>
                                </div>
                                <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-envelope text-primary"></i>
                                </div>
                            </div>
                            <div class="mt-2 flex items-center text-sm">
                                <span class="text-chart-2"><i class="fas fa-arrow-up mr-1"></i>12%</span>
                                <span class="text-muted-foreground ml-1">from yesterday</span>
                            </div>
                        </div>

                        <div class="stats-card bg-card p-6 rounded-lg border border-border">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-muted-foreground text-sm">Resolved</p>
                                    <p class="text-2xl font-bold text-chart-2" data-bind="stats.resolved">89</p>
                                </div>
                                <div class="w-12 h-12 bg-chart-2/10 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-check-circle text-chart-2"></i>
                                </div>
                            </div>
                            <div class="mt-2 text-sm text-muted-foreground">
                                60.5% resolution rate
                            </div>
                        </div>

                        <div class="stats-card bg-card p-6 rounded-lg border border-border">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-muted-foreground text-sm">Pending</p>
                                    <p class="text-2xl font-bold text-chart-3" data-bind="stats.pending">58</p>
                                </div>
                                <div class="w-12 h-12 bg-chart-3/10 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-clock text-chart-3"></i>
                                </div>
                            </div>
                            <div class="mt-2 text-sm text-muted-foreground">
                                23 urgent, 35 normal
                            </div>
                        </div>

                        <div class="stats-card bg-card p-6 rounded-lg border border-border">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-muted-foreground text-sm">Avg Response Time</p>
                                    <p class="text-2xl font-bold" data-bind="stats.avgResponseTime">2.4h</p>
                                </div>
                                <div class="w-12 h-12 bg-chart-4/10 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-stopwatch text-chart-4"></i>
                                </div>
                            </div>
                            <div class="mt-2 flex items-center text-sm">
                                <span class="text-chart-2"><i class="fas fa-arrow-down mr-1"></i>18%</span>
                                <span class="text-muted-foreground ml-1">improvement</span>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Row -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-card p-6 rounded-lg border border-border">
                            <h4 class="font-semibold mb-4">Email Volume Trend</h4>
                            <div class="chart-container bg-muted/30 rounded-md flex items-center justify-center">
                                <!-- @FUNCTIONALITY: Implement Chart.js or similar charting library for email volume over time -->
                                <p class="text-muted-foreground">ðŸ“Š Interactive Chart - Email Volume (7 days)</p>
                            </div>
                        </div>

                        <div class="bg-card p-6 rounded-lg border border-border">
                            <h4 class="font-semibold mb-4">Sentiment Distribution</h4>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-3 h-3 bg-chart-2 rounded-full"></div>
                                        <span class="text-sm">Positive</span>
                                    </div>
                                    <span class="text-sm font-medium" data-bind="sentiment.positive">45%</span>
                                </div>
                                <div class="w-full bg-muted rounded-full h-2">
                                    <div class="bg-chart-2 h-2 rounded-full" style="width: 45%"></div>
                                </div>

                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-3 h-3 bg-chart-3 rounded-full"></div>
                                        <span class="text-sm">Neutral</span>
                                    </div>
                                    <span class="text-sm font-medium" data-bind="sentiment.neutral">35%</span>
                                </div>
                                <div class="w-full bg-muted rounded-full h-2">
                                    <div class="bg-chart-3 h-2 rounded-full" style="width: 35%"></div>
                                </div>

                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-3 h-3 bg-chart-4 rounded-full"></div>
                                        <span class="text-sm">Negative</span>
                                    </div>
                                    <span class="text-sm font-medium" data-bind="sentiment.negative">20%</span>
                                </div>
                                <div class="w-full bg-muted rounded-full h-2">
                                    <div class="bg-chart-4 h-2 rounded-full" style="width: 20%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- @END_COMPONENT: Analytics -->

                <!-- Email Management Section -->
                <section class="flex-1 flex">
                    <!-- Email List Panel -->
                    <!-- @COMPONENT: EmailList [List of filtered support emails] -->
                    <div class="w-1/2 border-r border-border flex flex-col">
                        <div class="p-6 border-b border-border">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold">Support Emails</h3>
                                <div class="flex items-center space-x-2">
                                    <select class="px-3 py-1 border border-border rounded-md text-sm bg-background">
                                        <option>All Priority</option>
                                        <option>Urgent Only</option>
                                        <option>Normal Only</option>
                                    </select>
                                    <select class="px-3 py-1 border border-border rounded-md text-sm bg-background">
                                        <option>All Sentiment</option>
                                        <option>Positive</option>
                                        <option>Neutral</option>
                                        <option>Negative</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="relative">
                                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"></i>
                                <input type="text" placeholder="Search emails..." class="w-full pl-10 pr-4 py-2 border border-border rounded-md bg-background focus:ring-2 focus:ring-ring focus:outline-none">
                            </div>
                        </div>

                        <div class="flex-1 overflow-y-auto">
                            <!-- @MAP: emails.map(email => ( -->
                            
                            <!-- Urgent Email Item -->
                            <div class="email-item priority-urgent p-4 border-b border-border bg-card hover:bg-accent cursor-pointer" data-event="click:selectEmail" data-bind="email.id">
                                <div class="flex items-start justify-between mb-2">
                                    <div class="flex-1 min-w-0">
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-destructive text-destructive-foreground">
                                                URGENT
                                            </span>
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium sentiment-negative bg-destructive/10">
                                                Negative
                                            </span>
                                        </div>
                                        <h4 class="font-medium text-sm truncate" data-bind="email.subject">Critical System Issue - Cannot Access Account</h4>
                                        <p class="text-muted-foreground text-xs" data-bind="email.sender">sarah.wilson@techcorp.com</p>
                                    </div>
                                    <span class="text-xs text-muted-foreground" data-bind="email.time">2 min ago</span>
                                </div>
                                <p class="text-sm text-muted-foreground line-clamp-2" data-bind="email.preview">I cannot log into my account and this is preventing me from accessing critical files for tomorrow's presentation...</p>
                                <div class="mt-2 flex items-center space-x-2">
                                    <span class="text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded">Account Access</span>
                                    <span class="text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded">Technical Support</span>
                                </div>
                            </div>

                            <!-- Normal Priority Email -->
                            <div class="email-item priority-normal p-4 border-b border-border bg-card hover:bg-accent cursor-pointer" data-event="click:selectEmail" data-bind="email.id">
                                <div class="flex items-start justify-between mb-2">
                                    <div class="flex-1 min-w-0">
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-chart-2 text-white">
                                                NORMAL
                                            </span>
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium sentiment-positive bg-chart-2/10">
                                                Positive
                                            </span>
                                        </div>
                                        <h4 class="font-medium text-sm truncate" data-bind="email.subject">Feature Request - Dashboard Customization</h4>
                                        <p class="text-muted-foreground text-xs" data-bind="email.sender">mike.chen@startup.io</p>
                                    </div>
                                    <span class="text-xs text-muted-foreground" data-bind="email.time">15 min ago</span>
                                </div>
                                <p class="text-sm text-muted-foreground line-clamp-2" data-bind="email.preview">Hi there! I love using your platform and was wondering if there are plans to add dashboard customization features...</p>
                                <div class="mt-2 flex items-center space-x-2">
                                    <span class="text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded">Feature Request</span>
                                    <span class="text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded">Product Feedback</span>
                                </div>
                            </div>

                            <!-- Another Email -->
                            <div class="email-item priority-normal p-4 border-b border-border bg-card hover:bg-accent cursor-pointer" data-event="click:selectEmail" data-bind="email.id">
                                <div class="flex items-start justify-between mb-2">
                                    <div class="flex-1 min-w-0">
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-chart-2 text-white">
                                                NORMAL
                                            </span>
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium sentiment-neutral bg-chart-3/10">
                                                Neutral
                                            </span>
                                        </div>
                                        <h4 class="font-medium text-sm truncate" data-bind="email.subject">Query: Integration with Third-Party Tools</h4>
                                        <p class="text-muted-foreground text-xs" data-bind="email.sender">alex.rodriguez@agency.com</p>
                                    </div>
                                    <span class="text-xs text-muted-foreground" data-bind="email.time">1h ago</span>
                                </div>
                                <p class="text-sm text-muted-foreground line-clamp-2" data-bind="email.preview">We're looking to integrate your platform with our existing CRM system. Could you provide documentation on available APIs...</p>
                                <div class="mt-2 flex items-center space-x-2">
                                    <span class="text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded">Integration</span>
                                    <span class="text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded">API Question</span>
                                </div>
                            </div>

                            <!-- Urgent Email -->
                            <div class="email-item priority-urgent p-4 border-b border-border bg-card hover:bg-accent cursor-pointer" data-event="click:selectEmail" data-bind="email.id">
                                <div class="flex items-start justify-between mb-2">
                                    <div class="flex-1 min-w-0">
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-destructive text-destructive-foreground">
                                                URGENT
                                            </span>
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium sentiment-negative bg-destructive/10">
                                                Negative
                                            </span>
                                        </div>
                                        <h4 class="font-medium text-sm truncate" data-bind="email.subject">Help: Data Loss After Update</h4>
                                        <p class="text-muted-foreground text-xs" data-bind="email.sender">jennifer.kim@enterprise.com</p>
                                    </div>
                                    <span class="text-xs text-muted-foreground" data-bind="email.time">3h ago</span>
                                </div>
                                <p class="text-sm text-muted-foreground line-clamp-2" data-bind="email.preview">After the recent platform update, we've lost several important customer records. This is affecting our operations and we need immediate assistance...</p>
                                <div class="mt-2 flex items-center space-x-2">
                                    <span class="text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded">Data Recovery</span>
                                    <span class="text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded">Critical Issue</span>
                                </div>
                            </div>

                            <!-- Additional Email Items -->
                            <div class="email-item priority-normal p-4 border-b border-border bg-card hover:bg-accent cursor-pointer" data-event="click:selectEmail" data-bind="email.id">
                                <div class="flex items-start justify-between mb-2">
                                    <div class="flex-1 min-w-0">
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-chart-2 text-white">
                                                NORMAL
                                            </span>
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium sentiment-positive bg-chart-2/10">
                                                Positive
                                            </span>
                                        </div>
                                        <h4 class="font-medium text-sm truncate" data-bind="email.subject">Support: Training Session Request</h4>
                                        <p class="text-muted-foreground text-xs" data-bind="email.sender">david.thompson@consulting.com</p>
                                    </div>
                                    <span class="text-xs text-muted-foreground" data-bind="email.time">4h ago</span>
                                </div>
                                <p class="text-sm text-muted-foreground line-clamp-2" data-bind="email.preview">Our team would like to schedule a training session for the new features. We're excited to learn more about the platform capabilities...</p>
                                <div class="mt-2 flex items-center space-x-2">
                                    <span class="text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded">Training</span>
                                    <span class="text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded">Onboarding</span>
                                </div>
                            </div>
                            
                            <!-- @END_MAP )) -->
                        </div>
                    </div>
                    <!-- @END_COMPONENT: EmailList -->

                    <!-- Email Detail Panel -->
                    <!-- @COMPONENT: EmailDetail [Selected email details and AI response] -->
                    <div class="flex-1 flex flex-col">
                        <!-- Email Header -->
                        <div class="p-6 border-b border-border bg-card">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <div class="flex items-center space-x-2 mb-2">
                                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-destructive text-destructive-foreground">
                                            URGENT
                                        </span>
                                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium sentiment-negative bg-destructive/10">
                                            <i class="fas fa-frown mr-1"></i>Negative
                                        </span>
                                    </div>
                                    <h3 class="font-semibold text-lg mb-1" data-bind="selectedEmail.subject">Critical System Issue - Cannot Access Account</h3>
                                    <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                                        <span data-bind="selectedEmail.sender">sarah.wilson@techcorp.com</span>
                                        <span data-bind="selectedEmail.time">Today at 2:47 PM</span>
                                    </div>
                                </div>
                                <div class="flex space-x-2">
                                    <button class="px-3 py-1 border border-border rounded-md text-sm hover:bg-accent">
                                        <i class="fas fa-tag mr-1"></i>Tag
                                    </button>
                                    <button class="px-3 py-1 border border-border rounded-md text-sm hover:bg-accent">
                                        <i class="fas fa-archive mr-1"></i>Archive
                                    </button>
                                </div>
                            </div>

                            <!-- Extracted Information -->
                            <div class="bg-muted p-4 rounded-md">
                                <h4 class="font-medium text-sm mb-2">Extracted Information</h4>
                                <div class="grid grid-cols-2 gap-4 text-sm">
                                    <div>
                                        <span class="text-muted-foreground">Contact:</span>
                                        <span class="ml-2" data-bind="extracted.phone">+1-555-0123</span>
                                    </div>
                                    <div>
                                        <span class="text-muted-foreground">Customer ID:</span>
                                        <span class="ml-2" data-bind="extracted.customerId">TC-789456</span>
                                    </div>
                                    <div>
                                        <span class="text-muted-foreground">Issue Type:</span>
                                        <span class="ml-2" data-bind="extracted.issueType">Account Access</span>
                                    </div>
                                    <div>
                                        <span class="text-muted-foreground">Product:</span>
                                        <span class="ml-2" data-bind="extracted.product">Business Dashboard</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Email Body -->
                        <div class="flex-1 overflow-y-auto p-6">
                            <div class="bg-card rounded-lg border border-border p-4 mb-6">
                                <h4 class="font-medium mb-3">Original Message</h4>
                                <div class="prose prose-sm max-w-none" data-bind="selectedEmail.body">
                                    <p>Hello Support Team,</p>
                                    <p>I am experiencing a critical issue with my account access. Since this morning, I cannot log into my Business Dashboard account despite multiple attempts with the correct credentials. The error message says "Invalid session" but I haven't changed anything.</p>
                                    <p>This is urgent because I have an important client presentation tomorrow and need access to my analytics data. My team is also affected as they cannot access the shared reports.</p>
                                    <p>Can someone please help me resolve this immediately? My customer ID is TC-789456 and my phone number is +1-555-0123 if you need to call me directly.</p>
                                    <p>Thank you for your urgent assistance.</p>
                                    <p>Best regards,<br>Sarah Wilson<br>TechCorp Solutions</p>
                                </div>
                            </div>

                            <!-- AI Generated Response -->
                            <div class="bg-card rounded-lg border border-border p-4">
                                <div class="flex items-center justify-between mb-3">
                                    <h4 class="font-medium flex items-center">
                                        <i class="fas fa-robot mr-2 text-primary"></i>
                                        AI Generated Response
                                    </h4>
                                    <div class="flex space-x-2">
                                        <button class="px-3 py-1 text-xs border border-border rounded-md hover:bg-accent" data-event="click:regenerateResponse">
                                            <i class="fas fa-refresh mr-1"></i>Regenerate
                                        </button>
                                        <button class="px-3 py-1 text-xs bg-primary text-primary-foreground rounded-md hover:bg-primary/90" data-event="click:sendResponse">
                                            <i class="fas fa-paper-plane mr-1"></i>Send Reply
                                        </button>
                                    </div>
                                </div>
                                
                                <textarea class="w-full h-64 p-3 border border-border rounded-md resize-none focus:ring-2 focus:ring-ring focus:outline-none" data-bind="aiResponse.content" data-event="input:updateResponse">Dear Sarah,

Thank you for reaching out, and I sincerely apologize for the login difficulties you're experiencing with your Business Dashboard account. I understand how frustrating this must be, especially with your important presentation tomorrow.

I've immediately escalated your case (Customer ID: TC-789456) to our technical team as a priority issue. Based on your description, this appears to be related to a session management issue that we've been monitoring since this morning's system update.

Here's what I'm doing right now to help:

1. **Immediate Action**: I've reset your account session tokens and cleared any cached authentication data
2. **Account Verification**: I've verified your account status and confirmed all permissions are intact
3. **Team Access**: I'm also checking the shared access permissions for your team members

**Next Steps:**
- Please try logging in again in 5-10 minutes using an incognito/private browser window
- If you still experience issues, I'll arrange for our senior technical specialist to call you directly at +1-555-0123
- As a backup, I can provide temporary access credentials via secure email if needed for tomorrow's presentation

I'll personally monitor this case and ensure it's resolved within the next hour. You can reach me directly by replying to this email or calling our priority support line.

Thank you for your patience, and I'm committed to getting this resolved quickly for you and your team.

Best regards,
Alex Johnson
Senior Support Specialist
Priority Case #PS-2024-001-URGENT</textarea>

                                <div class="mt-3 flex items-center justify-between text-xs text-muted-foreground">
                                    <div class="flex items-center space-x-4">
                                        <span><i class="fas fa-clock mr-1"></i>Generated in 1.2s</span>
                                        <span><i class="fas fa-brain mr-1"></i>GPT-4 Model</span>
                                        <span><i class="fas fa-shield-alt mr-1"></i>Professional Tone</span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <span class="text-chart-2"><i class="fas fa-thumbs-up mr-1"></i>Empathetic</span>
                                        <span class="text-primary"><i class="fas fa-check-circle mr-1"></i>Action-oriented</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: EmailDetail -->
                </section>
            </main>
        </div>
    </div>
    <!-- @END_COMPONENT: Layout -->

    <!-- Mobile Sidebar Toggle (Hidden on Desktop) -->
    <button class="fixed bottom-4 right-4 md:hidden w-12 h-12 bg-primary text-primary-foreground rounded-full shadow-lg flex items-center justify-center z-50" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Loading Overlay (Hidden by default) -->
    <!-- @COMPONENT: LoadingOverlay [Loading state for AI processing] -->
    <div id="loadingOverlay" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-card p-6 rounded-lg shadow-xl">
            <div class="flex items-center space-x-3">
                <div class="animate-spin w-5 h-5 border-2 border-primary border-t-transparent rounded-full"></div>
                <span class="font-medium">Processing emails with AI...</span>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: LoadingOverlay -->

    <script>
        (function() {
            // Mobile sidebar toggle functionality
            window.toggleSidebar = function() {
                const sidebar = document.querySelector('.sidebar');
                sidebar.classList.toggle('open');
            };

            // Simulate real-time email updates
            function simulateRealTimeUpdates() {
                // TODO: Implement WebSocket connection for real-time email updates
                // TODO: Update email counters and stats dynamically
                console.log('Real-time updates would be implemented here');
            }

            // Email selection handler
            function handleEmailSelection(emailId) {
                // TODO: Implement email selection logic
                // TODO: Load email details and generate AI response
                console.log('Email selected:', emailId);
            }

            // AI response generation
            function generateAIResponse(emailContent) {
                // TODO: Implement OpenAI API call for response generation
                // TODO: Include sentiment analysis and context awareness
                console.log('Generating AI response for email');
                
                // Show loading state
                const loadingOverlay = document.getElementById('loadingOverlay');
                loadingOverlay.classList.remove('hidden');
                
                // Simulate API delay
                setTimeout(() => {
                    loadingOverlay.classList.add('hidden');
                }, 2000);
            }

            // Email sync functionality
            function syncEmails() {
                // TODO: Implement Gmail/IMAP API integration
                // TODO: Filter emails by support keywords
                // TODO: Run sentiment analysis and prioritization
                console.log('Syncing emails from email provider');
            }

            // Priority queue processing
            function processPriorityQueue() {
                // TODO: Implement priority-based email processing
                // TODO: Process urgent emails first
                console.log('Processing priority queue');
            }

            // Initialize dashboard
            function initializeDashboard() {
                // TODO: Load initial email data
                // TODO: Set up real-time listeners
                // TODO: Initialize analytics charts
                simulateRealTimeUpdates();
                
                // Set up click handlers for emails
                document.querySelectorAll('.email-item').forEach(item => {
                    item.addEventListener('click', function() {
                        // Remove previous selections
                        document.querySelectorAll('.email-item').forEach(email => {
                            email.classList.remove('ring-2', 'ring-ring');
                        });
                        
                        // Add selection indicator
                        this.classList.add('ring-2', 'ring-ring');
                        
                        const emailId = this.getAttribute('data-bind');
                        handleEmailSelection(emailId);
                    });
                });

                // Set up sync button
                document.querySelector('[data-event="click:syncEmails"]').addEventListener('click', syncEmails);
            }

            // Initialize when DOM is loaded
            document.addEventListener('DOMContentLoaded', initializeDashboard);

            // Sample data binding simulation
            // TODO: Replace with actual data fetching and state management
            const mockData = {
                stats: {
                    totalEmails: 147,
                    resolved: 89,
                    pending: 58,
                    avgResponseTime: '2.4h'
                },
                sentiment: {
                    positive: 45,
                    neutral: 35,
                    negative: 20
                }
            };

            // Update UI with mock data (in real app, this would be done via React state)
            function updateDashboardData() {
                // TODO: Implement proper data binding and state management
                console.log('Dashboard data updated', mockData);
            }
        })();
    </script>
</body>
</html>